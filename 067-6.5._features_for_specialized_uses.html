<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>6.5. Features for Specialized Uses</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" type="text/css" rel="stylesheet"/>
<link href="page_styles.css" type="text/css" rel="stylesheet"/>
</head>
  <body class="calibre">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="066-6.4._overloaded_functions.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="068-6.6._function_matching.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table><h3 id="filepos1630575" class="calibre29"><span class="bold"><a id="filepos1630608" class="calibre2"/>6.5. Features for Specialized Uses</span></h3><div class="calibre12">&#160;</div>
<p class="calibre14">In this section we&#8217;ll cover three function-related features that are useful in many, but not all, programs: default arguments, inline and <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> functions, and some facilities that are often used during debugging.</p><div class="calibre15">&#160;</div>
<h4 id="filepos1631032" class="calibre37"><span class="calibre5">6.5.1. Default Arguments</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">Some functions have parameters that are given a particular value in most, but not all, calls. In such cases, we can declare that common value as a <strong class="calibre5"><a id="filepos1631313" href="071-defined_terms.html#filepos1732298">default argument</a></strong> for the function. Functions with default arguments can be called with or without that argument.</p><div class="calibre15">&#160;</div>
<p class="calibre25">For example, we might use a <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code> to represent the contents of a window. By default, we might want the window to have a particular height, width, and background character. However, we might also want to allow users to pass values other than the defaults. To accommodate both default and specified values we would declare our function to define the window as follows:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">typedef string::size_type sz;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">typedef</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">see &#167; 2.5.1 (p. 67)</span></span></span><br class="calibre6"/>string screen(sz ht = 24, sz wid = 80, char backgrnd = ' ');</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Here we&#8217;ve provided a default for each parameter. A default argument is specified as an initializer for a parameter in the parameter list. We may define defaults for one or more parameters. However, if a parameter has a default argument, all the parameters that follow it must also have default arguments.</p><div class="calibre15">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Calling Functions with Default Arguments</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">If we want to use the default argument, we omit that argument when we call the function. Because <code class="calibre23"><tt class="calibre23"><span class="calibre24">screen</span></tt></code> provides defaults for all of its parameters, we can call <code class="calibre23"><tt class="calibre23"><span class="calibre24">screen</span></tt></code> with zero, one, two, or three arguments:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">string window;<br class="calibre6"/>window = screen();&#160;&#160;// <span><span class="calibre45"><span class="calibre16">equivalent to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">screen(24,80,' ')</span></span></tt></span><br class="calibre6"/>window = screen(66);// <span><span class="calibre45"><span class="calibre16">equivalent to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">screen(66,80,' ')</span></span></tt></span><br class="calibre6"/>window = screen(66, 256);&#160;&#160;&#160;&#160;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">screen(66,256,' ')</span></span></tt></span><br class="calibre6"/>window = screen(66, 256, '#'); // <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">screen(66,256,'#'</span></span></tt></span>)</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Arguments in the call are resolved by position. The default arguments are used for the trailing (right-most) arguments of a call. For example, to override the default for <code class="calibre23"><tt class="calibre23"><span class="calibre24">background</span></tt></code>, we must also supply arguments for <code class="calibre23"><tt class="calibre23"><span class="calibre24">height</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">width</span></tt></code>:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">window = screen(, , '?'); // <span><span class="calibre45"><span class="calibre16">error: can omit only trailing arguments</span></span></span><br class="calibre6"/>window = screen('?');&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">calls</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">screen('?',80,' '</span></span></tt></span>)</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Note that the second call, which passes a single character value, is legal. Although legal, it is unlikely to be what was intended. The call is legal because <code class="calibre23"><tt class="calibre23"><span class="calibre24">'?'</span></tt></code> is a <code class="calibre23"><tt class="calibre23"><span class="calibre24">char</span></tt></code>, and a <code class="calibre23"><tt class="calibre23"><span class="calibre24">char</span></tt></code> can be converted (&#167; <a href="049-4.11._type_conversions.html#filepos1162796">4.11.1</a>, p. <a href="049-4.11._type_conversions.html#filepos1162796">160</a>) to the type of the left-most parameter. That parameter is <code class="calibre23"><tt class="calibre23"><span class="calibre24">string::size_type</span></tt></code>, which is an <code class="calibre23"><tt class="calibre23"><span class="calibre24">unsigned</span></tt></code> integral type. In this call, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">char</span></tt></code> argument is implicitly converted to <code class="calibre23"><tt class="calibre23"><span class="calibre24">string::size_type</span></tt></code>, <a id="filepos1636480"/>and is passed as the argument to <code class="calibre23"><tt class="calibre23"><span class="calibre24">height</span></tt></code>. On our machine, <code class="calibre23"><tt class="calibre23"><span class="calibre24">'?'</span></tt></code> has the hexadecimal value <code class="calibre23"><tt class="calibre23"><span class="calibre24">0x3F</span></tt></code>, which is decimal <code class="calibre23"><tt class="calibre23"><span class="calibre24">63</span></tt></code>. Thus, this call passes <code class="calibre23"><tt class="calibre23"><span class="calibre24">63</span></tt></code> to the <code class="calibre23"><tt class="calibre23"><span class="calibre24">height</span></tt></code> parameter.</p><div class="calibre15">&#160;</div>
<p class="calibre25">Part of the work of designing a function with default arguments is ordering the parameters so that those least likely to use a default value appear first and those most likely to use a default appear last.</p><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Default Argument Declarations</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">Although it is normal practice to declare a function once inside a header, it is legal to redeclare a function multiple times. However, each parameter can have its default specified only once in a given scope. Thus, any subsequent declaration can add a default only for a parameter that has not previously had a default specified. As usual, defaults can be specified only if all parameters to the right already have defaults. For example, given</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">no default for the height or width parameters</span></span></span><br class="calibre6"/>string screen(sz, sz, char = ' ');</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">we cannot change an already declared default value:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">string screen(sz, sz, char = '*'); // <span><span class="calibre45"><span class="calibre16">error: redeclaration</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">but we can add a default argument as follows:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">string screen(sz = 24, sz = 80, char);&#160;&#160;// <span><span class="calibre45"><span class="calibre16">ok: adds default arguments</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00017.jpg" class="calibre9"/> Best Practices</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">Default arguments ordinarily should be specified with the function declaration in an appropriate header.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Default Argument Initializers</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">Local variables may not be used as a default argument. Excepting that restriction, a default argument can be any expression that has a type that is convertible to the type of the parameter:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">the declarations of</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">wd</span></span></tt></span><span><span class="calibre45"><span class="calibre16">,</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">def</span></span></tt></span><span><span class="calibre45"><span class="calibre16">,</span></span></span>
<span><span class="calibre45"><span class="calibre16">and</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ht</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">must appear outside a function</span></span></span><br class="calibre6"/>sz wd = 80;<br class="calibre6"/><br class="calibre6"/>char def = ' ';<br class="calibre6"/>sz ht();<br class="calibre6"/>string screen(sz = ht(), sz = wd, char = def);<br class="calibre6"/>string window = screen(); // <span><span class="calibre45"><span class="calibre16">calls</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">screen(ht(), 80, ' '</span></span></tt></span>)</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Names used as default arguments are resolved in the scope of the function declaration. The value that those names represent is evaluated at the time of the call:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">void f2()<br class="calibre6"/>{<br class="calibre6"/>&#160;&#160;&#160;&#160;def =&#160;&#160;&#160;'*';&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">changes the value of a default argument</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;sz wd = 100; // <span><span class="calibre45"><span class="calibre16">hides the outer definition of</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">wd</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">but does not change the default</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;window = screen(); // <span><span class="calibre45"><span class="calibre16">calls</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">screen(ht(), 80, '*')</span></span></tt></span><br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14"><a id="filepos1642657"/>Inside <code class="calibre23"><tt class="calibre23"><span class="calibre24">f2</span></tt></code>, we changed the value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">def</span></tt></code>. The call to <code class="calibre23"><tt class="calibre23"><span class="calibre24">screen</span></tt></code> passes this updated value. Our function also declared a local variable that hides the outer <code class="calibre23"><tt class="calibre23"><span class="calibre24">wd</span></tt></code>. However, the local named <code class="calibre23"><tt class="calibre23"><span class="calibre24">wd</span></tt></code> is unrelated to the default argument passed to <code class="calibre23"><tt class="calibre23"><span class="calibre24">screen</span></tt></code>.</p><div class="calibre15">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 6.5.1</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 6.40:</strong> Which, if either, of the following declarations are errors? Why?</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(a)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">int ff(int a, int b = 0, int c = 0);</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(b)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">char *init(int ht = 24, int wd, char bckgrnd);</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 6.41:</strong> Which, if any, of the following calls are illegal? Why? Which, if any, are legal but unlikely to match the programmer&#8217;s intent? Why?</p></blockquote><div class="calibre10">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">char *init(int ht, int wd = 80, char bckgrnd = ' ');</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(a)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">init();</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(b)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">init(24,10);</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(c)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">init(14, '*');</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 6.42:</strong> Give the second parameter of <code class="calibre23"><tt class="calibre23"><span class="calibre24">make_plural</span></tt></code> (&#167; <a href="065-6.3._return_types_and_the_return_statement.html#filepos1552941">6.3.2</a>, p. <a href="065-6.3._return_types_and_the_return_statement.html#filepos1552941">224</a>) a default argument of <code class="calibre23"><tt class="calibre23"><span class="calibre24">'s'</span></tt></code>. Test your program by printing singular and plural versions of the words <code class="calibre23"><tt class="calibre23"><span class="calibre24">success</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">failure</span></tt></code>.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos1645920" class="calibre37"><span class="calibre5">6.5.2. Inline and <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">constexpr</span></span></tt></span></span></tt></code> Functions</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">In &#167; <a href="065-6.3._return_types_and_the_return_statement.html#filepos1552941">6.3.2</a> (p. <a href="065-6.3._return_types_and_the_return_statement.html#filepos1552941">224</a>) we wrote a small function that returned a reference to the shorter of its two <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code> parameters. The benefits of defining a function for such a small operation include the following:</p><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre27">&#8226; It is easier to read and understand a call to <code class="calibre23"><tt class="calibre23"><span class="calibre24">shorterString</span></tt></code> than it would be to read and understand the equivalent conditional expression.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre27">&#8226; Using a function ensures uniform behavior. Each test is guaranteed to be done the same way.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre27">&#8226; If we need to change the computation, it is easier to change the function than to find and change every occurrence of the equivalent expression.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre27">&#8226; The function can be reused rather than rewritten for other applications.</p></blockquote><div class="calibre15">&#160;</div>
<p class="calibre25">There is, however, one potential drawback to making <code class="calibre23"><tt class="calibre23"><span class="calibre24">shorterString</span></tt></code> a function: Calling a function is apt to be slower than evaluating the equivalent expression. On most machines, a function call does a lot of work: Registers are saved before the call and restored after the return; arguments may be copied; and the program branches to a new location.</p><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5"><code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">inline</span></span></tt></span></span></tt></code> Functions Avoid Function Call Overhead</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">A function specified as <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5"><a id="filepos1648309" href="071-defined_terms.html#filepos1734495">inline</a></span></span></tt></span></span></tt></code> (usually) is expanded &#8220;in line&#8221; at each call. If <code class="calibre23"><tt class="calibre23"><span class="calibre24">shorterString</span></tt></code> were defined as <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code>, then this call</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos1648710"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">cout &lt;&lt; shorterString(s1, s2) &lt;&lt; endl;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">(probably) would be expanded during compilation into something like</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">cout &lt;&lt; (s1.size() &lt; s2.size() ? s1 : s2) &lt;&lt; endl;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">The run-time overhead of making <code class="calibre23"><tt class="calibre23"><span class="calibre24">shorterString</span></tt></code> a function is thus removed.</p><div class="calibre15">&#160;</div>
<p class="calibre25">We can define <code class="calibre23"><tt class="calibre23"><span class="calibre24">shorterString</span></tt></code> as an inline function by putting the keyword <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code> before the function&#8217;s return type:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">inline version: find the shorter of two</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">string</span></span></tt></span><span><span class="calibre45"><span class="calibre16">s</span></span></span><br class="calibre6"/>inline const string &amp;<br class="calibre6"/>shorterString(const string &amp;s1, const string &amp;s2)<br class="calibre6"/>{<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return s1.size() &lt;= s2.size() ? s1 : s2;<br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00012.jpg" class="calibre9"/> Note</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">The <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code> specification is only a <em class="calibre16">request</em> to the compiler. The compiler may choose to ignore this request.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<p class="calibre14">In general, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code> mechanism is meant to optimize small, straight-line functions that are called frequently. Many compilers will not inline a recursive function. A 75-line function will almost surely not be expanded inline.</p><div class="calibre15">&#160;</div>
<h5 class="calibre39"><span class="calibre5"><code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">constexpr</span></span></tt></span></span></tt></code> Functions</span></h5><div class="calibre38">&#160;</div>
<div class="calibre28"><a id="filepos1651836"/><img alt="Image" src="images/00008.jpg" class="calibre9"/></div>
<p class="calibre14">A <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5"><a id="filepos1652012" href="071-defined_terms.html#filepos1731910">constexpr</a></span></span></tt></span></span></tt></code>
<strong class="calibre5">function</strong> is a function that can be used in a constant expression (&#167; <a href="024-2.4._const_qualifier.html#filepos520427">2.4.4</a>, p. <a href="024-2.4._const_qualifier.html#filepos520427">65</a>). A <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> function is defined like any other function but must meet certain restrictions: The <code class="calibre23"><tt class="calibre23"><span class="calibre24">return</span></tt></code> type and the type of each parameter in a must be a literal type (&#167; <a href="024-2.4._const_qualifier.html#filepos520427">2.4.4</a>, p. <a href="024-2.4._const_qualifier.html#filepos520427">66</a>), and the function body must contain exactly one <code class="calibre23"><tt class="calibre23"><span class="calibre24">return</span></tt></code> statement:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">constexpr int new_sz() { return 42; }<br class="calibre6"/>constexpr int foo = new_sz();&#160;&#160;// <span><span class="calibre45"><span class="calibre16">ok:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">foo</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">is a constant expression</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Here we defined <code class="calibre23"><tt class="calibre23"><span class="calibre24">new_sz</span></tt></code> as a <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> that takes no arguments. The compiler can verify&#8212;at compile time&#8212;that a call to <code class="calibre23"><tt class="calibre23"><span class="calibre24">new_sz</span></tt></code> returns a constant expression, so we can use <code class="calibre23"><tt class="calibre23"><span class="calibre24">new_sz</span></tt></code> to initialize our <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> variable, <code class="calibre23"><tt class="calibre23"><span class="calibre24">foo</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">When it can do so, the compiler will replace a call to a <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> function with its resulting value. In order to be able to expand the function immediately, <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> functions are implicitly <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code>.</p><div class="calibre22">&#160;</div>
<p class="calibre25">A <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> function body may contain other statements so long as those statements generate no actions at run time. For example, a <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> function may contain null statements, type aliases (&#167; <a href="025-2.5._dealing_with_types.html#filepos536134">2.5.1</a>, p. <a href="025-2.5._dealing_with_types.html#filepos536134">67</a>), and <code class="calibre23"><tt class="calibre23"><span class="calibre24">using</span></tt></code> declarations.</p><div class="calibre22">&#160;</div>
<p class="calibre25">A <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> function is permitted to return a value that is not a constant:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">scale(arg</span></span></tt></span>) <span><span class="calibre45"><span class="calibre16">is a constant expression if</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">arg</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">is a constant expression</span></span></span><br class="calibre6"/>constexpr size_t scale(size_t cnt) { return new_sz() * cnt; }</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">The <code class="calibre23"><tt class="calibre23"><span class="calibre24">scale</span></tt></code> function will return a constant expression if its argument is a constant expression but not otherwise:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos1656240"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">int arr[scale(2)]; // <span><span class="calibre45"><span class="calibre16">ok:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">scale(2</span></span></tt></span>) <span><span class="calibre45"><span class="calibre16">is a constant expression</span></span></span><br class="calibre6"/>int i = 2;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">i</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">is not a constant expression</span></span></span><br class="calibre6"/>int a2[scale(i)];&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">scale(i</span></span></tt></span>) <span><span class="calibre45"><span class="calibre16">is not a constant expression</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">When we pass a constant expression&#8212;such as the literal <code class="calibre23"><tt class="calibre23"><span class="calibre24">2</span></tt></code>&#8212;then the return is a constant expression. In this case, the compiler will replace the call to <code class="calibre23"><tt class="calibre23"><span class="calibre24">scale</span></tt></code> with the resulting value.</p><div class="calibre15">&#160;</div>
<p class="calibre25">If we call <code class="calibre23"><tt class="calibre23"><span class="calibre24">scale</span></tt></code> with an expression that is not a constant expression&#8212;such as on the <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> object <code class="calibre23"><tt class="calibre23"><span class="calibre24">i</span></tt></code>&#8212;then the return is not a constant expression. If we use <code class="calibre23"><tt class="calibre23"><span class="calibre24">scale</span></tt></code> in a context that requires a constant expression, the compiler checks that the result is a constant expression. If it is not, the compiler will produce an error message.</p><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00012.jpg" class="calibre9"/> Note</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">A <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> function is not required to return a constant expression.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Put <code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">inline</span></span></tt></span></span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">constexpr</span></span></tt></span></span></tt></code> Functions in Header Files</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">Unlike other functions, <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> functions may be defined multiple times in the program. After all, the compiler needs the definition, not just the declaration, in order to expand the code. However, all of the definitions of a given <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code> or <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> must match exactly. As a result, <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code> functions normally are defined in headers.</p><div class="calibre15">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 6.5.2</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 6.43:</strong> Which one of the following declarations and definitions would you put in a header? In a source file? Explain why.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(a)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">inline bool eq(const BigInt&amp;, const BigInt&amp;) {...}</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(b)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">void putValues(int *arr, int size);</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 6.44:</strong> Rewrite the <code class="calibre23"><tt class="calibre23"><span class="calibre24">isShorter</span></tt></code> function from &#167; <a href="064-6.2._argument_passing.html#filepos1462468">6.2.2</a> (p. <a href="064-6.2._argument_passing.html#filepos1462468">211</a>) to be <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code>.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 6.45:</strong> Review the programs you&#8217;ve written for the earlier exercises and decide whether they should be defined as <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code>. If so, do so. If not, explain why they should not be <code class="calibre23"><tt class="calibre23"><span class="calibre24">inline</span></tt></code>.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 6.46:</strong> Would it be possible to define <code class="calibre23"><tt class="calibre23"><span class="calibre24">isShorter</span></tt></code> as a <code class="calibre23"><tt class="calibre23"><span class="calibre24">constexpr</span></tt></code>? If so, do so. If not, explain why not.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos1661988" class="calibre37"><span class="calibre5">6.5.3. Aids for Debugging</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">C++ programmers sometimes use a technique similar to header guards (&#167; <a href="026-2.6._defining_our_own_data_structures.html#filepos600691">2.6.3</a>, p. <a href="026-2.6._defining_our_own_data_structures.html#filepos600691">77</a>) to conditionally execute debugging code. The idea is that the program will contain debugging code that is executed only while the program is being developed. When the application is completed and ready to ship, the debugging code is turned off. This approach uses two preprocessor facilities: <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code>.</p><div class="calibre15">&#160;</div>
<h5 class="calibre39"><span class="calibre5"><a id="filepos1662757"/>The <code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">assert</span></span></tt></span></span></tt></code> Preprocessor Macro</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5"><a id="filepos1663079" href="071-defined_terms.html#filepos1729871">assert</a></span></span></tt></span></span></tt></code> is a <strong class="calibre5"><a id="filepos1663185" href="071-defined_terms.html#filepos1738863">preprocessor macro</a></strong>. A preprocessor macro is a preprocessor variable that acts somewhat like an inline function. The <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> macro takes a single expression, which it uses as a condition:</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">assert(<span><span class="calibre45"><span class="calibre16">expr</span></span></span>);</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">evaluates <em class="calibre16">expr</em> and if the expression is false (i.e., zero), then <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> writes a message and terminates the program. If the expression is true (i.e., is nonzero), then <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> does nothing.</p><div class="calibre15">&#160;</div>
<p class="calibre25">The <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> macro is defined in the <code class="calibre23"><tt class="calibre23"><span class="calibre24">cassert</span></tt></code> header. As we&#8217;ve seen, preprocessor names are managed by the preprocessor not the compiler (&#167; <a href="023-2.3._compound_types.html#filepos409391">2.3.2</a>, p. <a href="023-2.3._compound_types.html#filepos409391">54</a>). As a result, we use preprocessor names directly and do not provide a <code class="calibre23"><tt class="calibre23"><span class="calibre24">using</span></tt></code> declaration for them. That is, we refer to <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code>, not <code class="calibre23"><tt class="calibre23"><span class="calibre24">std::assert</span></tt></code>, and provide no <code class="calibre23"><tt class="calibre23"><span class="calibre24">using</span></tt></code> declaration for <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code>.</p><div class="calibre22">&#160;</div>
<p class="calibre25">As with preprocessor variables, macro names must be unique within the program. Programs that include the <code class="calibre23"><tt class="calibre23"><span class="calibre24">cassert</span></tt></code> header may not define a variable, function, or other entity named <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code>. In practice, it is a good idea to avoid using the name <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> for our own purposes even if we don&#8217;t include <code class="calibre23"><tt class="calibre23"><span class="calibre24">cassert</span></tt></code>. Many headers include the <code class="calibre23"><tt class="calibre23"><span class="calibre24">cassert</span></tt></code> header, which means that even if you don&#8217;t directly include that file, your programs are likely to have it included anyway.</p><div class="calibre22">&#160;</div>
<p class="calibre25">The <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> macro is often used to check for conditions that &#8220;cannot happen.&#8221; For example, a program that does some manipulation of input text might know that all words it is given are always longer than a threshold. That program might contain a statement such as</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">assert(word.size() &gt; threshold);</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5">The <code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">NDEBUG</span></span></tt></span></span></tt></code> Preprocessor Variable</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">The behavior of <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> depends on the status of a preprocessor variable named <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code>. If <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code> is defined, <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> does nothing. By default, <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code> is <em class="calibre16">not</em> defined, so, by default, <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> performs a run-time check.</p><div class="calibre15">&#160;</div>
<p class="calibre25">We can &#8220;turn off&#8221; debugging by providing a <code class="calibre23"><tt class="calibre23"><span class="calibre24">#define</span></tt></code> to define <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code>. Alternatively, most compilers provide a command-line option that lets us define preprocessor variables:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">$ CC -D NDEBUG main.C&#160;&#160;# use /D with the Microsoft compiler</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">has the same effect as writing <code class="calibre23"><tt class="calibre23"><span class="calibre24">#define NDEBUG</span></tt></code> at the beginning of <code class="calibre23"><tt class="calibre23"><span class="calibre24">main.C</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">If <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code> is defined, we avoid the potential run-time overhead involved in checking various conditions. Of course, there is also no run-time check. Therefore, <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code> should be used only to verify things that truly should not be possible. It can be useful as an aid in getting a program debugged but should not be used to substitute for run-time logic checks or error checking that the program should do.</p><div class="calibre22">&#160;</div>
<p class="calibre25">In addition to using <code class="calibre23"><tt class="calibre23"><span class="calibre24">assert</span></tt></code>, we can write our own conditional debugging code using <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code>. If <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code> is <em class="calibre16">not</em> defined, the code between the <code class="calibre23"><tt class="calibre23"><span class="calibre24">#ifndef</span></tt></code> and the <code class="calibre23"><tt class="calibre23"><span class="calibre24">#endif</span></tt></code> is executed. If <code class="calibre23"><tt class="calibre23"><span class="calibre24">NDEBUG</span></tt></code>
<em class="calibre16">is</em> defined, that code is ignored:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos1669800"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">void print(const int ia[], size_t size)<br class="calibre6"/>{<br class="calibre6"/>#ifndef NDEBUG<br class="calibre6"/>// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">_ _func_ _</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">is a local</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">static</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">defined by the compiler that holds the function's name</span></span></span><br class="calibre6"/>cerr &lt;&lt; _ _func_ _ &lt;&lt; ": array size is " &lt;&lt; size &lt;&lt; endl;<br class="calibre6"/>#endif<br class="calibre6"/>// ...</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Here we use a variable named <code class="calibre23"><tt class="calibre23"><span class="calibre24">_ _func_ _</span></tt></code> to print the name of the function we are debugging. The compiler defines <code class="calibre23"><tt class="calibre23"><span class="calibre24">_ _func_ _</span></tt></code> in every function. It is a local <code class="calibre23"><tt class="calibre23"><span class="calibre24">static</span></tt></code> array of <code class="calibre23"><tt class="calibre23"><span class="calibre24">const char</span></tt></code> that holds the name of the function.</p><div class="calibre15">&#160;</div>
<p class="calibre25">In addition to <code class="calibre23"><tt class="calibre23"><span class="calibre24">_ _func_ _</span></tt></code>, which the C++ compiler defines, the preprocessor defines four other names that can be useful in debugging:</p><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><code class="calibre23"><tt class="calibre23"><span class="calibre24">_ _FILE_ _</span></tt></code> string literal containing the name of the file</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><code class="calibre23"><tt class="calibre23"><span class="calibre24">_ _LINE_ _</span></tt></code> integer literal containing the current line number</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><code class="calibre23"><tt class="calibre23"><span class="calibre24">_ _TIME_ _</span></tt></code> string literal containing the time the file was compiled</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><code class="calibre23"><tt class="calibre23"><span class="calibre24">_ _DATE_ _</span></tt></code> string literal containing the date the file was compiled</p></blockquote><div class="calibre15">&#160;</div>
<p class="calibre14">We might use these constants to report additional information in error messages:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">if (word.size() &lt; threshold)<br class="calibre6"/>&#160;&#160;&#160;&#160;cerr &lt;&lt; "Error: " &lt;&lt; _ _FILE_ _<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; " : in function " &lt;&lt; _ _func_ _<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; " at line " &lt;&lt; _ _LINE_ _ &lt;&lt; endl<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; "&#160;&#160;&#160;&#160;&#160;&#160;&#160;Compiled on " &lt;&lt; _ _DATE_ _<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; " at " &lt;&lt; _ _TIME_ _ &lt;&lt; endl<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; "&#160;&#160;&#160;&#160;&#160;&#160;&#160;Word read was \"" &lt;&lt; word<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; "\":&#160;&#160;Length too short" &lt;&lt; endl;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">If we give this program a <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code> that is shorter than the <code class="calibre23"><tt class="calibre23"><span class="calibre24">threshold</span></tt></code>, then the following error message will be generated:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">Error: wdebug.cc : in function main at line 27</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span><tt class="calibre23"><span class="calibre32"><span class="calibre5">Compiled on Jul 11 2012 at 20:50:03</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span><tt class="calibre23"><span class="calibre32"><span class="calibre5">Word read was "foo":&#160;&#160;Length too short</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="066-6.4._overloaded_functions.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="068-6.6._function_matching.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table></body></html>
