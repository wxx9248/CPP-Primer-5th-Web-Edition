<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Chapter 13. Copy Control</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" type="text/css" rel="stylesheet"/>
<link href="page_styles.css" type="text/css" rel="stylesheet"/>
</head>
  <body class="calibre">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="119-part_iii_tools_for_class_authors.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="121-13.1._copy_assign_and_destroy.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table><h2 id="filepos3197881" class="calibre19"><span class="bold"><a class="calibre2"/>Chapter 13. Copy Control</span></h2><div class="calibre20">&#160;</div>
<p class="calibre14"><span class="calibre5">Contents</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="121-13.1._copy_assign_and_destroy.html#filepos3202630">Section 13.1 Copy, Assign, and Destroy</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="122-13.2._copy_control_and_resource_management.html#filepos3281447">Section 13.2 Copy Control and Resource Management</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="123-13.3._swap.html#filepos3315883">Section 13.3 Swap</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="124-13.4._a_copycontrol_example.html#filepos3341274">Section 13.4 A Copy-Control Example</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="125-13.5._classes_that_manage_dynamic_memory.html#filepos3380687">Section 13.5 Classes That Manage Dynamic Memory</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="126-13.6._moving_objects.html#filepos3426774">Section 13.6 Moving Objects</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="127-chapter_summary.html#filepos3533220">Chapter Summary</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><strong class="calibre5"><a href="128-defined_terms.html#filepos3534784">Defined Terms</a></strong></p></blockquote><div class="calibre15">&#160;</div>
<p class="calibre14">As we saw in <a href="072-chapter_7._classes.html#filepos1741323">Chapter 7</a>, each class defines a new type and defines the operations that objects of that type can perform. In that chapter, we also learned that classes can define constructors, which control what happens when objects of the class type are created.</p><div class="calibre15">&#160;</div>
<p class="calibre25">In this chapter we&#8217;ll learn how classes can control what happens when objects of the class type are copied, assigned, moved, or destroyed. Classes control these actions through special member functions: the copy constructor, move constructor, copy-assignment operator, move-assignment operator, and destructor.</p><div class="calibre22">&#160;</div>
<p class="calibre14"><a id="filepos3200221"/><em class="calibre16">When we define a class,</em> we specify&#8212;explicitly or implicitly&#8212;what happens when objects of that class type are copied, moved, assigned, and destroyed. A class controls these operations by defining five special member functions: <strong class="calibre5"><a id="filepos3200484" href="128-defined_terms.html#filepos3535874">copy constructor</a></strong>, <strong class="calibre5"><a id="filepos3200563" href="128-defined_terms.html#filepos3535314">copy-assignment operator</a></strong>, <strong class="calibre5"><a id="filepos3200650" href="128-defined_terms.html#filepos3540251">move constructor</a></strong>, <strong class="calibre5"><a id="filepos3200729" href="128-defined_terms.html#filepos3539809">move-assignment operator</a></strong>, and <strong class="calibre5"><a id="filepos3200820" href="128-defined_terms.html#filepos3537752">destructor</a></strong>. The copy and move constructors define what happens when an object is initialized from another object of the same type. The copy- and move-assignment operators define what happens when we assign an object of a class type to another object of that same class type. The destructor defines what happens when an object of the type ceases to exist. Collectively, we&#8217;ll refer to these operations as <strong class="calibre5"><a id="filepos3201291" href="128-defined_terms.html#filepos3536311">copy control</a></strong>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">If a class does not define all of the copy-control members, the compiler automatically defines the missing operations. As a result, many classes can ignore copy control (&#167; <a href="073-7.1._defining_abstract_data_types.html#filepos1827343">7.1.5</a>, p. <a href="073-7.1._defining_abstract_data_types.html#filepos1827343">267</a>). However, for some classes, relying on the default definitions leads to disaster. Frequently, the hardest part of implementing copy-control operations is recognizing when we need to define them in the first place.</p><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00013.jpg" class="calibre9"/> Warning</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">Copy control is an essential part of defining any C++ class. Programmers new to C++ are often confused by having to define what happens when objects are copied, moved, assigned, or destroyed. This confusion is compounded because if we do not explicitly define these operations, the compiler defines them for us&#8212;although the compiler-defined versions might not behave as we intend.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="119-part_iii_tools_for_class_authors.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="121-13.1._copy_assign_and_destroy.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table></body></html>
