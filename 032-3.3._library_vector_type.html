<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>3.3. Library vector Type</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" type="text/css" rel="stylesheet"/>
<link href="page_styles.css" type="text/css" rel="stylesheet"/>
</head>
  <body class="calibre">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="031-3.2._library_string_type.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="033-3.4._introducing_iterators.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table><h3 id="filepos736471" class="calibre29"><span class="bold">3.3. Library <code class="calibre54"><tt class="calibre54"><span class="calibre55"><span class="calibre2"><tt class="calibre54"><span class="calibre56"><span class="bold">vector</span></span></tt></span></span></tt></code> Type</span></h3><div class="calibre12">&#160;</div>
<div class="calibre28"><img alt="Image" src="images/00009.jpg" class="calibre9"/></div>
<p class="calibre14">A <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5"><a id="filepos736876" href="037-defined_terms.html#filepos989925">vector</a></span></span></tt></span></span></tt></code> is a collection of objects, all of which have the same type. Every object in the collection has an associated index, which gives access to that object. A <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> is often referred to as a <strong class="calibre5"><a id="filepos737227" href="037-defined_terms.html#filepos980018">container</a></strong> because it &#8220;contains&#8221; other objects. We&#8217;ll have much more to say about containers in <a href="081-part_ii_the_cpp_library.html#filepos2066884">Part II</a>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">To use a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>, we must include the appropriate header. In our examples, we also assume that an appropriate <code class="calibre23"><tt class="calibre23"><span class="calibre24">using</span></tt></code> declaration is made:</p><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">#include &lt;vector&gt;<br class="calibre6"/>using std::vector;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre25">A <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> is a <strong class="calibre5"><a id="filepos738087" href="037-defined_terms.html#filepos979108">class template</a></strong>. C++ has both class and function templates. Writing a template requires a fairly deep understanding of C++. Indeed, we won&#8217;t see how to create our own templates until <a href="153-chapter_16._templates_and_generic_programming.html#filepos4150078">Chapter 16</a>! Fortunately, we can use templates without knowing how to write them.</p><div class="calibre22">&#160;</div>
<p class="calibre25">Templates are not themselves functions or classes. Instead, they can be thought of as instructions to the compiler for generating classes or functions. The process that the compiler uses to create classes or functions from templates is called <strong class="calibre5"><a id="filepos738752" href="037-defined_terms.html#filepos983678">instantiation</a></strong>. When we use a template, we specify what kind of class or function we want the compiler to instantiate.</p><div class="calibre22">&#160;</div>
<p class="calibre25">For a class template, we specify which class to instantiate by supplying additional information, the nature of which depends on the template. How we specify the information is always the same: We supply it inside a pair of angle brackets following the template&#8217;s name.</p><div class="calibre22">&#160;</div>
<p class="calibre25">In the case of <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>, the additional information we supply is the type of the objects the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> will hold:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos739629"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; ivec;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">holds objects of type</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">int</span></span></tt></span><br class="calibre6"/>vector&lt;Sales_item&gt; Sales_vec; // <span><span class="calibre45"><span class="calibre16">holds</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">Sales_item</span></span></tt></span><span><span class="calibre45"><span class="calibre16">s</span></span></span><br class="calibre6"/>vector&lt;vector&lt;string&gt;&gt; file;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">whose elements are</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span><span><span class="calibre45"><span class="calibre16">s</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">In this example, the compiler generates three distinct types from the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> template: <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt;</span></tt></code>, <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;Sales_item&gt;</span></tt></code>, and <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;vector&lt;string&gt;&gt;</span></tt></code>.</p><div class="calibre15">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00012.jpg" class="calibre9"/> Note</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> is a template, not a type. Types generated from <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> must include the element type, for example, <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt;</span></tt></code>.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<p class="calibre25">We can define <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s to hold objects of most any type. Because references are not objects (&#167; <a href="023-2.3._compound_types.html#filepos396246">2.3.1</a>, p. <a href="023-2.3._compound_types.html#filepos396246">50</a>), we cannot have a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> of references. However, we can have <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s of most other (nonreference) built-in types and most class types. In particular, we can have <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s whose elements are themselves <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s.</p><div class="calibre22">&#160;</div>
<div class="calibre28"><a id="filepos742732"/><img alt="Image" src="images/00008.jpg" class="calibre9"/></div>
<p class="calibre25">It is worth noting that earlier versions of C++ used a slightly different syntax to define a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> whose elements are themselves <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s (or another template type). In the past, we had to supply a space between the closing angle bracket of the outer <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> and its element type&#8212;<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;vector&lt;int&gt; &gt;</span></tt></code> rather than <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;vector&lt;int&gt;&gt;</span></tt></code>.</p><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00013.jpg" class="calibre9"/> Warning</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">Some compilers may require the old-style declarations for a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> of <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s, for example, <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;vector&lt;int&gt; &gt;</span></tt></code>.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos744172" class="calibre37"><span class="calibre5">3.3.1. Defining and Initializing <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code>s</span></h4><div class="calibre38">&#160;</div>
<div class="calibre28"><img alt="Image" src="images/00009.jpg" class="calibre9"/></div>
<p class="calibre14">As with any class type, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> template controls how we define and initialize <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s. <a href="032-3.3._library_vector_type.html#filepos744972">Table 3.4</a> (p. <a href="032-3.3._library_vector_type.html#filepos744972">99</a>) lists the most common ways to define <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s.</p><div class="calibre15">&#160;</div>
<p class="calibre51"><span class="calibre5"><a id="filepos744972"/>Table 3.4. Ways to Initialize a <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code></span></p><div class="calibre12">&#160;</div>
<div class="calibre52"><img alt="Image" src="images/00025.jpg" class="calibre9"/></div><div class="calibre22">&#160;</div>
<p class="calibre25">We can default initialize a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> (&#167; <a href="022-2.2._variables.html#filepos350704">2.2.1</a>, p. <a href="022-2.2._variables.html#filepos350704">44</a>), which creates an empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> of the specified type:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; svec; // <span><span class="calibre45"><span class="calibre16">default initialization;</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">svec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has no elements</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">It might seem that an empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> would be of little use. However, as we&#8217;ll see shortly, we can (efficiently) add elements to a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> at run time. Indeed, the most common way of using <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s is to define an initially empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> to which elements are added as their values become known at run time.</p><div class="calibre15">&#160;</div>
<p class="calibre25">We can also supply initial value(s) for the element(s) when we define a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. For example, we can copy elements from another <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. When we copy a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>, each element in the new <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> is a copy of the corresponding element in the original <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. The two <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s must be the same type:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; ivec;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">initially empty</span></span></span><br class="calibre6"/>// <span><span class="calibre45"><span class="calibre16">give</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">some values</span></span></span><br class="calibre6"/>vector&lt;int&gt; ivec2(ivec);&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">copy elements of</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">into</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec2</span></span></tt></span><br class="calibre6"/>vector&lt;int&gt; ivec3 = ivec;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">copy elements of</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">into</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec3</span></span></tt></span><br class="calibre6"/>vector&lt;string&gt; svec(ivec2);&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">svec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">holds</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">string</span></span></tt></span><span><span class="calibre45"><span class="calibre16">s,</span></span></span>
<span><span class="calibre45"><span class="calibre16">not</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">int</span></span></tt></span><span><span class="calibre45"><span class="calibre16">s</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5"><a id="filepos749603"/>List Initializing a <code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code></span></h5><div class="calibre38">&#160;</div>
<div class="calibre28"><a id="filepos749816"/><img alt="Image" src="images/00008.jpg" class="calibre9"/></div>
<p class="calibre14">Another way to provide element values, is that under the new standard, we can list initialize (&#167; <a href="022-2.2._variables.html#filepos350704">2.2.1</a>, p. <a href="022-2.2._variables.html#filepos350704">43</a>) a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> from a list of zero or more initial element values enclosed in curly braces:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; articles = {"a", "an", "the"};</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">The resulting <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> has three elements; the first holds the <code class="calibre23"><tt class="calibre23"><span class="calibre24">string "a"</span></tt></code>, the second holds <code class="calibre23"><tt class="calibre23"><span class="calibre24">"an"</span></tt></code>, and the last is <code class="calibre23"><tt class="calibre23"><span class="calibre24">"the"</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">As we&#8217;ve seen, C++ provides several forms of initialization (&#167; <a href="022-2.2._variables.html#filepos350704">2.2.1</a>, p. <a href="022-2.2._variables.html#filepos350704">43</a>). In many, but not all, cases we can use these forms of initialization interchangably. So far, we have seen two examples where the form of initialization matters: when we use the copy initialization form (i.e., when we use <code class="calibre23"><tt class="calibre23"><span class="calibre24">=</span></tt></code>) (&#167; <a href="031-3.2._library_string_type.html#filepos651083">3.2.1</a>, p. <a href="031-3.2._library_string_type.html#filepos651083">84</a>), we can supply only a single initializer; and when we supply an in-class initializer (&#167; <a href="026-2.6._defining_our_own_data_structures.html#filepos578460">2.6.1</a>, p. <a href="026-2.6._defining_our_own_data_structures.html#filepos578460">73</a>), we must either use copy initialization or use curly braces. A third restriction is that we can supply a list of element values only by using list initialization in which the initializers are enclosed in curly braces. We cannot supply a list of initializers using parentheses:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; v1{"a", "an", "the"};&#160;&#160;// <span><span class="calibre45"><span class="calibre16">list initialization</span></span></span><br class="calibre6"/>vector&lt;string&gt; v2("a", "an", "the");&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Creating a Specified Number of Elements</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">We can also initialize a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> from a count and an element value. The count determines how many elements the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> will have; the value provides the initial value for each of those elements:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; ivec(10, -1);&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">ten</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">int</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">elements, each initialized to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">-1</span></span></tt></span><br class="calibre6"/>vector&lt;string&gt; svec(10, "hi!"); // <span><span class="calibre45"><span class="calibre16">ten</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">string</span></span></tt></span><span><span class="calibre45"><span class="calibre16">s; each element is</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">"hi!"</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Value Initialization</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">We can usually omit the value and supply only a size. In this case the library creates a <strong class="calibre5"><a id="filepos754307" href="037-defined_terms.html#filepos989336">value-initialized</a></strong> element initializer for us. This library-generated value is used to initialize each element in the container. The value of the element initializer depends on the type of the elements stored in the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">If the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> holds elements of a built-in type, such as <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code>, then the element initializer has a value of 0. If the elements are of a class type, such as <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>, then the element initializer is itself default initialized:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; ivec(10);&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">ten elements, each initialized to 0</span></span></span><br class="calibre6"/>vector&lt;string&gt; svec(10); // <span><span class="calibre45"><span class="calibre16">ten elements, each an empty</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">string</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">There are two restrictions on this form of initialization: The first restriction is that some classes require that we always supply an explicit initializer (&#167; <a href="022-2.2._variables.html#filepos350704">2.2.1</a>, p. <a href="022-2.2._variables.html#filepos350704">44</a>). If our <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> holds objects of a type that we cannot default initialize, then we must supply an initial element value; it is not possible to create <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s of such types by supplying only a size.</p><div class="calibre15">&#160;</div>
<p class="calibre25">The second restriction is that when we supply an element count without also supplying an initial value, we must use the direct form of initialization:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos756668"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; vi = 10;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error: must use direct initialization to supply a size</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Here we are using 10 to instruct <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> how to create the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>&#8212;we want a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> with ten value-initialized elements. We are not &#8220;copying&#8221; 10 into the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. Hence, we cannot use the copy form of initialization. We&#8217;ll see more about how this restriction works in &#167; <a href="077-7.5._constructors_revisited.html#filepos1990205">7.5.4</a> (p. <a href="077-7.5._constructors_revisited.html#filepos1990205">296</a>).</p><div class="calibre15">&#160;</div>
<h5 class="calibre39"><span class="calibre5">List Initializer or Element Count?</span></h5><div class="calibre38">&#160;</div>
<div class="calibre28"><img alt="Image" src="images/00011.jpg" class="calibre9"/></div>
<p class="calibre14">In a few cases, what initialization means depends upon whether we use curly braces or parentheses to pass the initializer(s). For example, when we initialize a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt;</span></tt></code> from a single <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> value, that value might represent the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>&#8217;s size or it might be an element value. Similarly, if we supply exactly two <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> values, those values could be a size and an initial value, or they could be values for a two-element <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. We specify which meaning we intend by whether we use curly braces or parentheses:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v1(10);&#160;&#160;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has ten elements with value</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">0</span></span></tt></span><br class="calibre6"/>vector&lt;int&gt; v2{10};&#160;&#160;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v2</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has one element with value</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">10</span></span></tt></span><br class="calibre6"/>vector&lt;int&gt; v3(10, 1); // <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v3</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has ten elements with value</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span><br class="calibre6"/>vector&lt;int&gt; v4{10, 1}; // <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v4</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has two elements with values</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">10</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">and</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">When we use parentheses, we are saying that the values we supply are to be used to <em class="calibre16">construct</em> the object. Thus, <code class="calibre23"><tt class="calibre23"><span class="calibre24">v1</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">v3</span></tt></code> use their initializers to determine the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>&#8217;s size, and its size and element values, respectively.</p><div class="calibre15">&#160;</div>
<p class="calibre25">When we use curly braces, <code class="calibre23"><tt class="calibre23"><span class="calibre24">{...}</span></tt></code>, we&#8217;re saying that, if possible, we want to <em class="calibre16">list initialize</em> the object. That is, if there is a way to use the values inside the curly braces as a list of element initializers, the class will do so. Only if it is not possible to list initialize the object will the other ways to initialize the object be considered. The values we supply when we initialize <code class="calibre23"><tt class="calibre23"><span class="calibre24">v2</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">v4</span></tt></code> can be used as element values. These objects are list initialized; the resulting <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s have one and two elements, respectively.</p><div class="calibre22">&#160;</div>
<p class="calibre25">On the other hand, if we use braces and there is no way to use the initializers to list initialize the object, then those values will be used to construct the object. For <a id="filepos761921"/>example, to list initialize a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> of <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>s, we must supply values that can be used as <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>s. In this case, there is no confusion about whether to list initialize the elements or construct a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> of the given size:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; v5{"hi"}; // <span><span class="calibre45"><span class="calibre16">list initialization:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v5</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has one element</span></span></span><br class="calibre6"/>vector&lt;string&gt; v6("hi"); // <span><span class="calibre45"><span class="calibre16">error: can't construct a</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">from a string literal</span></span></span><br class="calibre6"/>vector&lt;string&gt; v7{10};&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v7</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has ten default-initialized elements</span></span></span><br class="calibre6"/>vector&lt;string&gt; v8{10, "hi"}; // <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v8</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has ten elements with value</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">"hi"</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Although we used braces on all but one of these definitions, only <code class="calibre23"><tt class="calibre23"><span class="calibre24">v5</span></tt></code> is list initialized. In order to list initialize the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>, the values inside braces must match the element type. We cannot use an <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> to initialize a <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>, so the initializers for <code class="calibre23"><tt class="calibre23"><span class="calibre24">v7</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">v8</span></tt></code> can&#8217;t be element initializers. If list initialization isn&#8217;t possible, the compiler looks for other ways to initialize the object from the given values.</p><div class="calibre15">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 3.3.1</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.12:</strong> Which, if any, of the following <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> definitions are in error? For those that are legal, explain what the definition does. For those that are not legal, explain why they are illegal.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(a)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;vector&lt;int&gt;&gt; ivec;</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(b)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; svec = ivec;</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(c)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; svec(10, "null");</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a id="filepos765880"/><strong class="calibre5">Exercise 3.13:</strong> How many elements are there in each of the following <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s? What are the values of the elements?</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(a)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v1;</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(b)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v2(10);</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(c)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v3(10, 42);</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(d)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v4{10};</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(e)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v5{10, 42};</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(f)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; v6{10};</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre53"><strong class="calibre5">(g)</strong>
<code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;string&gt; v7{10, "hi"};</span></tt></code></p></blockquote><div class="calibre15">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos767585" class="calibre37"><span class="calibre5">3.3.2. Adding Elements to a <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code></span></h4><div class="calibre38">&#160;</div>
<div class="calibre28"><img alt="Image" src="images/00009.jpg" class="calibre9"/></div>
<p class="calibre14">Directly initializing the elements of a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> is feasible only if we have a small number of known initial values, if we want to make a copy of another <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>, or if we want to initialize all the elements to the same value. More commonly, when we create a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>, we don&#8217;t know how many elements we&#8217;ll need, or we don&#8217;t know the value of those elements. Even if we do know all the values, if we have a large number of different initial element values, it can be cumbersome to specify them when we create the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">As one example, if we need a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> with values from 0 to 9, we can easily use list initialization. What if we wanted elements from 0 to 99 or 0 to 999? List initialization would be too unwieldy. In such cases, it is better to create an empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> and use a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> member named <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5"><a id="filepos769316" href="037-defined_terms.html#filepos986139">push_back</a></span></span></tt></span></span></tt></code> to add elements at run time. The <code class="calibre23"><tt class="calibre23"><span class="calibre24">push_back</span></tt></code> operation takes a value and &#8220;pushes&#8221; that value as a new last element onto the &#8220;back&#8221; of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. For example:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos769787"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v2;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">empty</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span><br class="calibre6"/>for (int i = 0; i != 100; ++i)<br class="calibre6"/>&#160;&#160;&#160;&#160;v2.push_back(i);&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">append sequential integers to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v2</span></span></tt></span><br class="calibre6"/>// <span><span class="calibre45"><span class="calibre16">at end of loop</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v2</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">100</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">elements, values</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">0</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">. . .</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">99</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Even though we know we ultimately will have 100 elements, we define <code class="calibre23"><tt class="calibre23"><span class="calibre24">v2</span></tt></code> as empty. Each iteration adds the next sequential integer as a new element in <code class="calibre23"><tt class="calibre23"><span class="calibre24">v2</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">We use the same approach when we want to create a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> where we don&#8217;t know until run time how many elements the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> should have. For example, we might read the input, storing the values we read in the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">read words from the standard input and store them as elements in a</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span><br class="calibre6"/>string word;<br class="calibre6"/>vector&lt;string&gt; text;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">empty</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span><br class="calibre6"/>while (cin &gt;&gt; word) {<br class="calibre6"/>&#160;&#160;&#160;&#160;text.push_back(word);&#160;&#160;// <span><span class="calibre45"><span class="calibre16">append</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">word</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">text</span></span></tt></span><br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Again, we start with an initially empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. This time, we read and store an unknown number of values in <code class="calibre23"><tt class="calibre23"><span class="calibre24">text</span></tt></code>.</p><div class="calibre15">&#160;</div>
<div class="calibre35"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre14"><span class="calibre5"><a/>Key Concept: <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span></span></tt></code>s Grow Efficiently</span></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">The standard requires that <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> implementations can efficiently add elements at run time. Because <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s grow efficiently, it is often unnecessary&#8212;and can result in poorer performance&#8212;to define a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> of a specific size. The exception to this rule is if <em class="calibre16">all</em> the elements actually need the same value. If differing element values are needed, it is usually more efficient to define an empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> and add elements as the values we need become known at run time. Moreover, as we&#8217;ll see in &#167; <a href="092-9.4._how_a_vector_grows.html#filepos2347166">9.4</a> (p. <a href="092-9.4._how_a_vector_grows.html#filepos2347166">355</a>), <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> offers capabilities to allow us to further enhance run-time performance when we add elements.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre36"><p class="calibre25">Starting with an empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> and adding elements at run time is distinctly different from how we use built-in arrays in C and in most other languages. In particular, if you are accustomed to using C or Java, you might expect that it would be best to define the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> at its expected size. In fact, the contrary is usually the case.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Programming Implications of Adding Elements to a <code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code></span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">The fact that we can easily and efficiently add elements to a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> greatly simplifies many programming tasks. However, this simplicity imposes a new obligation on our programs: We must ensure that any loops we write are correct even if the loop changes the size of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">Other implications that follow from the dynamic nature of <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s will become clearer as we learn more about using them. However, there is one implication that is worth noting already: For reasons we&#8217;ll explore in &#167; <a href="057-5.4._iterative_statements.html#filepos1331917">5.4.3</a> (p. <a href="057-5.4._iterative_statements.html#filepos1331917">188</a>), we cannot use a range <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> if the body of the loop adds elements to the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>.</p><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00013.jpg" class="calibre9"/> Warning</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">The body of a range <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> must not change the size of the sequence over which it is iterating.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><a id="filepos777275"/><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 3.3.2</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.14:</strong> Write a program to read a sequence of <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code>s from <code class="calibre23"><tt class="calibre23"><span class="calibre24">cin</span></tt></code> and store those values in a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.15:</strong> Repeat the previous program but read <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>s this time.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos778112" class="calibre37"><span class="calibre5">3.3.3. Other <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code> Operations</span></h4><div class="calibre38">&#160;</div>
<div class="calibre28"><img alt="Image" src="images/00009.jpg" class="calibre9"/></div>
<p class="calibre14">In addition to <code class="calibre23"><tt class="calibre23"><span class="calibre24">push_back, vector</span></tt></code> provides only a few other operations, most of which are similar to the corresponding operations on <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>s. <a href="032-3.3._library_vector_type.html#filepos778838">Table 3.5</a> lists the most important ones.</p><div class="calibre15">&#160;</div>
<p class="calibre51"><span class="calibre5"><a id="filepos778838"/>Table 3.5. <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code> Operations</span></p><div class="calibre12">&#160;</div>
<div class="calibre52"><img alt="Image" src="images/00026.jpg" class="calibre9"/></div><div class="calibre22">&#160;</div>
<p class="calibre25">We access the elements of a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> the same way that we access the characters in a <code class="calibre23"><tt class="calibre23"><span class="calibre24">string:</span></tt></code> through their position in the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. For example, we can use a range <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> (&#167; <a href="031-3.2._library_string_type.html#filepos697807">3.2.3</a>, p. <a href="031-3.2._library_string_type.html#filepos697807">91</a>) to process all the elements in a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; v{1,2,3,4,5,6,7,8,9};<br class="calibre6"/>for (auto &amp;i : v)&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">for each element in</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">(note: i is a reference)</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;i *= i;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">square the element value</span></span></span><br class="calibre6"/>for (auto i : v)&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">for each element in</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">v</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;cout &lt;&lt; i &lt;&lt; " "; // <span><span class="calibre45"><span class="calibre16">print the element</span></span></span><br class="calibre6"/>cout &lt;&lt; endl;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">In the first loop, we define our control variable, <code class="calibre23"><tt class="calibre23"><span class="calibre24">i</span></tt></code>, as a reference so that we can use <code class="calibre23"><tt class="calibre23"><span class="calibre24">i</span></tt></code> to assign new values to the elements in <code class="calibre23"><tt class="calibre23"><span class="calibre24">v</span></tt></code>. We let <code class="calibre23"><tt class="calibre23"><span class="calibre24">auto</span></tt></code> deduce the type of <code class="calibre23"><tt class="calibre23"><span class="calibre24">i</span></tt></code>. This loop uses a new form of the compound assignment operator (&#167; <a href="014-1.4._flow_of_control.html#filepos166704">1.4.1</a>, p. <a href="014-1.4._flow_of_control.html#filepos166704">12</a>). As we&#8217;ve seen, <code class="calibre23"><tt class="calibre23"><span class="calibre24">+=</span></tt></code> adds the right-hand operand to the left and stores the result in the left-hand operand. The <code class="calibre23"><tt class="calibre23"><span class="calibre24">*=</span></tt></code> operator behaves similarly, except that it multiplies the left- and right-hand operands, storing the result in the left-hand one. The second range <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> prints each element.</p><div class="calibre15">&#160;</div>
<p class="calibre25">The <code class="calibre23"><tt class="calibre23"><span class="calibre24">empty</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">size</span></tt></code> members behave as do the corresponding <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code> members (&#167; <a href="031-3.2._library_string_type.html#filepos659212">3.2.2</a>, p. <a href="031-3.2._library_string_type.html#filepos659212">87</a>): <code class="calibre23"><tt class="calibre23"><span class="calibre24">empty</span></tt></code> returns a <code class="calibre23"><tt class="calibre23"><span class="calibre24">bool</span></tt></code> indicating whether the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> has any elements, and <code class="calibre23"><tt class="calibre23"><span class="calibre24">size</span></tt></code> returns the number of elements in the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. The <code class="calibre23"><tt class="calibre23"><span class="calibre24">size</span></tt></code> member returns a value of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">size_type</span></tt></code> defined by the corresponding <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> type.</p><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00012.jpg" class="calibre9"/> Note</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">To use <code class="calibre23"><tt class="calibre23"><span class="calibre24">size_type</span></tt></code>, we must name the type in which it is defined. A <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> type <em class="calibre16">always</em> includes its element type (&#167; <a href="032-3.3._library_vector_type.html#filepos736471">3.3</a>, p. <a href="032-3.3._library_vector_type.html#filepos736471">97</a>):</p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt;::size_type // <span><span class="calibre45"><span class="calibre16">ok</span></span></span><br class="calibre6"/>vector::size_type&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<p class="calibre25">The equality and relational operators have the same behavior as the corresponding <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code> operations (&#167; <a href="031-3.2._library_string_type.html#filepos659212">3.2.2</a>, p. <a href="031-3.2._library_string_type.html#filepos659212">88</a>). Two <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s are equal if they have the same number of elements and if the corresponding elements all have the same value. The relational operators apply a dictionary ordering: If the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s have differing sizes, but the elements that are in common are equal, then the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> with fewer elements is less than the one with more elements. If the elements have <a id="filepos785262"/>differing values, then the relationship between the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s is determined by the relationship between the first elements that differ.</p><div class="calibre22">&#160;</div>
<p class="calibre25">We can compare two <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s only if we can compare the elements in those <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s. Some class types, such as <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>, define the meaning of the equality and relational operators. Others, such as our <code class="calibre23"><tt class="calibre23"><span class="calibre24">Sales_item</span></tt></code> class, do not. The only operations <code class="calibre23"><tt class="calibre23"><span class="calibre24">Sales_item</span></tt></code> supports are those listed in &#167; <a href="015-1.5._introducing_classes.html#filepos222335">1.5.1</a> (p. <a href="015-1.5._introducing_classes.html#filepos222335">20</a>). Those operations did not include the equality or relational operators. As a result, we cannot compare two <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector&lt;Sales_item&gt;</span></tt></code> objects.</p><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Computing a <code class="calibre23"><tt class="calibre23"><span class="calibre49"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">vector</span></span></tt></span></span></tt></code> Index</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">We can fetch a given element using the subscript operator (&#167; <a href="031-3.2._library_string_type.html#filepos697807">3.2.3</a>, p. <a href="031-3.2._library_string_type.html#filepos697807">93</a>). As with <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>s, subscripts for <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> start at 0; the type of a subscript is the corresponding <code class="calibre23"><tt class="calibre23"><span class="calibre24">size_type</span></tt></code>; and&#8212;assuming the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> is non<code class="calibre23"><tt class="calibre23"><span class="calibre24">const</span></tt></code>&#8212;we can write to the element returned by the subscript operator. In addition, as we did in &#167; <a href="031-3.2._library_string_type.html#filepos697807">3.2.3</a> (p. <a href="031-3.2._library_string_type.html#filepos697807">95</a>), we can compute an index and directly fetch the element at that position.</p><div class="calibre15">&#160;</div>
<p class="calibre25">As an example, let&#8217;s assume that we have a collection of grades that range from 0 through 100. We&#8217;d like to count how many grades fall into various clusters of 10. Between zero and 100 there are 101 possible grades. These grades can be represented by 11 clusters: 10 clusters of 10 grades each plus one cluster for the perfect score of 100. The first cluster will count grades of 0 through 9, the second will count grades from 10 through 19, and so on. The final cluster counts how many scores of 100 were achieved.</p><div class="calibre22">&#160;</div>
<p class="calibre25">Clustering the grades this way, if our input is</p><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">42 65 95 100 39 67 95 76 88 76 83 92 76 93</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">then the output should be</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">0 0 0 1 1 0 2 3 2 4 1</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">which indicates that there were no grades below 30, one grade in the 30s, one in the 40s, none in the 50s, two in the 60s, three in the 70s, two in the 80s, four in the 90s, and one grade of 100.</p><div class="calibre15">&#160;</div>
<p class="calibre25"><a id="filepos789121"/>We&#8217;ll use a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> with 11 elements to hold the counters for each cluster. We can determine the cluster index for a given grade by dividing that grade by 10. When we divide two integers, we get an integer in which the fractional part is truncated. For example, 42/10 is 4, 65/10 is 6 and 100/10 is 10. Once we&#8217;ve computed the cluster index, we can use it to subscript our <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> and fetch the counter we want to increment:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">count the number of grades by clusters of ten: 0--9, 10--19, . .. 90--99, 100</span></span></span><br class="calibre6"/>vector&lt;unsigned&gt; scores(11, 0); // <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">11</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">buckets, all initially</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">0</span></span></tt></span><br class="calibre6"/>unsigned grade;<br class="calibre6"/>while (cin &gt;&gt; grade) {&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">read the grades</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;if (grade &lt;= 100)&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">handle only valid grades</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;++scores[grade/10]; // <span><span class="calibre45"><span class="calibre16">increment the counter for the current cluster</span></span></span><br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">We start by defining a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> to hold the cluster counts. In this case, we do want each element to have the same value, so we allocate all 11 elements, each of which is initialized to <code class="calibre23"><tt class="calibre23"><span class="calibre24">0</span></tt></code>. The <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> condition reads the grades. Inside the loop, we check that the grade we read has a valid value (i.e., that it is less than or equal to 100). Assuming the grade is valid, we increment the appropriate counter for <code class="calibre23"><tt class="calibre23"><span class="calibre24">grade</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">The statement that does the increment is a good example of the kind of terse code characteristic of C++ programs. This expression</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">++scores[grade/10]; // <span><span class="calibre45"><span class="calibre16">increment the counter for the current cluster</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">is equivalent to</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">auto ind = grade/10; // <span><span class="calibre45"><span class="calibre16">get the bucket index</span></span></span><br class="calibre6"/>scores[ind] = scores[ind] + 1; // <span><span class="calibre45"><span class="calibre16">increment the count</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">We compute the bucket index by dividing <code class="calibre23"><tt class="calibre23"><span class="calibre24">grade</span></tt></code> by 10 and use the result of the division to index <code class="calibre23"><tt class="calibre23"><span class="calibre24">scores</span></tt></code>. Subscripting <code class="calibre23"><tt class="calibre23"><span class="calibre24">scores</span></tt></code> fetches the appropriate counter for this grade. We increment the value of that element to indicate the occurrence of a score in the given range.</p><div class="calibre15">&#160;</div>
<p class="calibre25">As we&#8217;ve seen, when we use a subscript, we should think about how we know that the indices are in range (&#167; <a href="031-3.2._library_string_type.html#filepos697807">3.2.3</a>, p. <a href="031-3.2._library_string_type.html#filepos697807">95</a>). In this program, we verify that the input is a valid grade in the range between <code class="calibre23"><tt class="calibre23"><span class="calibre24">0</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">100</span></tt></code>. Thus, we know that the indices we can compute are between <code class="calibre23"><tt class="calibre23"><span class="calibre24">0</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">10</span></tt></code>. These indices are between <code class="calibre23"><tt class="calibre23"><span class="calibre24">0</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">scores.size() - 1</span></tt></code>.</p><div class="calibre22">&#160;</div>
<h5 class="calibre39"><span class="calibre5">Subscripting Does Not Add Elements</span></h5><div class="calibre38">&#160;</div>
<p class="calibre14">Programmers new to C++ sometimes think that subscripting a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> adds elements; it does not. The following code intends to add ten elements to <code class="calibre23"><tt class="calibre23"><span class="calibre24">ivec</span></tt></code>:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; ivec;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">empty</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span><br class="calibre6"/>for (decltype(ivec.size()) ix = 0; ix != 10; ++ix)<br class="calibre6"/>&#160;&#160;&#160;&#160;ivec[ix] = ix;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">disaster:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has no elements</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">However, it is in error: <code class="calibre23"><tt class="calibre23"><span class="calibre24">ivec</span></tt></code> is an empty <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>; there are no elements to subscript! As we&#8217;ve seen, the right way to write this loop is to use <code class="calibre23"><tt class="calibre23"><span class="calibre24">push_back</span></tt></code>:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos795966"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">for (decltype(ivec.size()) ix = 0; ix != 10; ++ix)<br class="calibre6"/>&#160;&#160;&#160;&#160;ivec.push_back(ix);&#160;&#160;// <span><span class="calibre45"><span class="calibre16">ok: adds a new element with value</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ix</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00013.jpg" class="calibre9"/> Warning</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">The subscript operator on <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> (and <code class="calibre23"><tt class="calibre23"><span class="calibre24">string</span></tt></code>) fetches an existing element; it does <em class="calibre16">not</em> add an element.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<div class="calibre35"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre14"><span class="calibre5"><a/>Caution: Subscript Only Elements that are Known to Exist!</span></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">It is crucially important to understand that we may use the subscript operator (the <code class="calibre23"><tt class="calibre23"><span class="calibre24">[]</span></tt></code> operator) to fetch only elements that actually exist. For example,</p></blockquote><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; ivec;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">empty</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span><br class="calibre6"/>cout &lt;&lt; ivec[0];&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has no elements!</span></span></span><br class="calibre6"/><br class="calibre6"/>vector&lt;int&gt; ivec2(10); // <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">vector</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">with ten elements</span></span></span><br class="calibre6"/>cout &lt;&lt; ivec2[10];&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">ivec2</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">has elements 0 . . . 9</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">It is an error to subscript an element that doesn&#8217;t exist, but it is an error that the compiler is unlikely to detect. Instead, the value we get at run time is undefined.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre36"><p class="calibre25">Attempting to subscript elements that do not exist is, unfortunately, an extremely common and pernicious programming error. So-called <em class="calibre16"><a id="filepos799371" href="037-defined_terms.html#filepos978379">buffer overflow</a></em> errors are the result of subscripting elements that don&#8217;t exist. Such bugs are the most common cause of security problems in PC and other applications.</p></blockquote><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00018.jpg" class="calibre9"/> Tip</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">A good way to ensure that subscripts are in range is to avoid subscripting altogether by using a range <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> whenever possible.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 3.3.3</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.16:</strong> Write a program to print the size and contents of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>s from <a href="032-3.3._library_vector_type.html#filepos765880">exercise 3.13</a>. Check whether your answers to that exercise were correct. If not, restudy &#167; <a href="032-3.3._library_vector_type.html#filepos744172">3.3.1</a> (p. <a href="032-3.3._library_vector_type.html#filepos744172">97</a>) until you understand why you were wrong.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.17:</strong> Read a sequence of words from <code class="calibre23"><tt class="calibre23"><span class="calibre24">cin</span></tt></code> and store the values a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. After you&#8217;ve read all the words, process the <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> and change each word to uppercase. Print the transformed elements, eight words to a line.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.18:</strong> Is the following program legal? If not, how might you fix it?</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">vector&lt;int&gt; ivec;<br class="calibre6"/>ivec[0] = 42;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.19:</strong> List three ways to define a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code> and give it ten elements, each with the value 42. Indicate whether there is a preferred way to do so and why.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 3.20:</strong> Read a set of integers into a <code class="calibre23"><tt class="calibre23"><span class="calibre24">vector</span></tt></code>. Print the sum of each pair of adjacent elements. Change your program so that it prints the sum of the first and last elements, followed by the sum of the second and second-to-last, and so on.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="031-3.2._library_string_type.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="033-3.4._introducing_iterators.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table></body></html>
