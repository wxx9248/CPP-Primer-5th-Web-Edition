<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>5.1. Simple Statements</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" type="text/css" rel="stylesheet"/>
<link href="page_styles.css" type="text/css" rel="stylesheet"/>
</head>
  <body class="calibre">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="053-chapter_5._statements.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="055-5.2._statement_scope.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table><h3 id="filepos1233029" class="calibre29"><span class="bold">5.1. Simple Statements</span></h3><div class="calibre12">&#160;</div>
<div class="calibre28"><img alt="Image" src="images/00009.jpg" class="calibre9"/></div>
<p class="calibre14">Most statements in C++ end with a semicolon. An expression, such as <code class="calibre23"><tt class="calibre23"><span class="calibre24">ival + 5</span></tt></code>, becomes an <strong class="calibre5"><a id="filepos1233374" href="061-defined_terms.html#filepos1406557">expression statement</a></strong> when it is followed by a semicolon. Expression statements cause the expression to be evaluated and its result discarded:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">ival + 5;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">rather useless expression statement</span></span></span><br class="calibre6"/>cout &lt;&lt; ival;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">useful expression statement</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">The first statement is pretty useless: The addition is done but the result is not used. More commonly, an expression statement contains an expression that has a side effect&#8212;such as assigning a new value to a variable, or printing a result&#8212;when it is evaluated.</p><div class="calibre15">&#160;</div>
<h4 class="calibre37"><span class="calibre5">Null Statements</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">The simplest statement is the empty statement, also known as a <strong class="calibre5"><a id="filepos1234682" href="061-defined_terms.html#filepos1409102">null statement</a></strong>. A null statement is a single semicolon:</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">; // <span><span class="calibre45"><span class="calibre16">null statement</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre25">A null statement is useful where the language requires a statement but the program&#8217;s logic does not. Such usage is most common when a loop&#8217;s work can be done within its condition. For example, we might want to read an input stream, ignoring everything we read until we encounter a particular value:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">read until we hit end-of-file or find an input equal to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sought</span></span></tt></span><br class="calibre6"/>while (cin &gt;&gt; s &amp;&amp; s != sought)<br class="calibre6"/>&#160;&#160;&#160;&#160;;&#160;// <span><span class="calibre45"><span class="calibre16">null statement</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">This condition reads a value from the standard input and implicitly tests <code class="calibre23"><tt class="calibre23"><span class="calibre24">cin</span></tt></code> to see whether the read was successful. Assuming the read succeeded, the second part of the condition tests whether the value we read is equal to the value in <code class="calibre23"><tt class="calibre23"><span class="calibre24">sought</span></tt></code>. If we found the value we want, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> loop is exited. Otherwise, the condition is evaluated again, which reads another value from <code class="calibre23"><tt class="calibre23"><span class="calibre24">cin</span></tt></code>.</p><div class="calibre15">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00017.jpg" class="calibre9"/> Best Practices</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">Null statements should be commented. That way anyone reading the code can see that the statement was omitted intentionally.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 class="calibre37"><span class="calibre5">Beware of Missing or Extraneous Semicolons</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">Because a null statement is a statement, it is legal anywhere a statement is expected. For this reason, semicolons that might appear illegal are often nothing more than null statements. The following fragment contains two statements&#8212;the expression statement and the null statement:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos1237722"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">ival = v1 + v2;; // <span><span class="calibre45"><span class="calibre16">ok: second semicolon is a superfluous null statement</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Although an unnecessary null statement is often harmless, an extra semicolon following the condition in a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> or <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code> can drastically alter the programmer&#8217;s intent. For example, the following code will loop indefinitely:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">disaster: extra semicolon: loop body is this null statement</span></span></span><br class="calibre6"/>while (iter != svec.end()) ; // <span><span class="calibre45"><span class="calibre16">the</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">while</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">body is the empty statement</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;++iter;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">increment is not part of the loop</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Contrary to the indentation, the increment is not part of the loop. The loop body is the null statement formed by the semicolon that follows the condition.</p><div class="calibre15">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00013.jpg" class="calibre9"/> Warning</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">Extraneous null statements are not always harmless.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 class="calibre37"><span class="calibre5">Compound Statements (Blocks)</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">A <strong class="calibre5"><a id="filepos1240117" href="061-defined_terms.html#filepos1402443">compound statement</a></strong>, usually referred to as a <strong class="calibre5"><a id="filepos1240223" href="061-defined_terms.html#filepos1400527">block</a></strong>, is a (possibly empty) sequence of statements and declarations surrounded by a pair of curly braces. A block is a scope (&#167; <a href="022-2.2._variables.html#filepos382972">2.2.4</a>, p. <a href="022-2.2._variables.html#filepos382972">48</a>). Names introduced inside a block are accessible only in that block and in blocks nested inside that block. Names are visible from where they are defined until the end of the (immediately) enclosing block.</p><div class="calibre15">&#160;</div>
<p class="calibre25">Compound statements are used when the language requires a single statement but the logic of our program needs more than one. For example, the body of a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> or <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> loop must be a single statement, yet we often need to execute more than one statement in the body of a loop. We do so by enclosing the statements in curly braces, thus turning the sequence of statements into a block.</p><div class="calibre22">&#160;</div>
<p class="calibre25">As one example, recall the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> loop in the program in &#167; <a href="014-1.4._flow_of_control.html#filepos166704">1.4.1</a> (p. <a href="014-1.4._flow_of_control.html#filepos166704">11</a>):</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">while (val &lt;= 10) {<br class="calibre6"/>&#160;&#160;&#160;&#160;sum += val;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">assigns</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sum + val</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sum</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;++val;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">add</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span><br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">The logic of our program needed two statements but a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> loop may contain only one statement. By enclosing these statements in curly braces, we made them into a single (compound) statement.</p><div class="calibre15">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00012.jpg" class="calibre9"/> Note</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">A block is <em class="calibre16">not</em> terminated by a semicolon.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<p class="calibre25">We also can define an empty block by writing a pair of curlies with no statements. An empty block is equivalent to a null statement:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">while (cin &gt;&gt; s &amp;&amp; s != sought)<br class="calibre6"/>&#160;&#160;&#160;&#160;{ } // <span><span class="calibre45"><span class="calibre16">empty block</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><a id="filepos1243923"/><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 5.1</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 5.1:</strong> What is a null statement? When might you use a null statement?</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 5.2:</strong> What is a block? When might you might use a block?</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 5.3:</strong> Use the comma operator (&#167; <a href="048-4.10._comma_operator.html#filepos1151213">4.10</a>, p. <a href="048-4.10._comma_operator.html#filepos1151213">157</a>) to rewrite the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> loop from &#167; <a href="014-1.4._flow_of_control.html#filepos166704">1.4.1</a> (p. <a href="014-1.4._flow_of_control.html#filepos166704">11</a>) so that it no longer requires a block. Explain whether this rewrite improves or diminishes the readability of this code.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="053-chapter_5._statements.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="055-5.2._statement_scope.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table></body></html>
