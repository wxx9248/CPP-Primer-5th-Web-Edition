<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>1.4. Flow of Control</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" type="text/css" rel="stylesheet"/>
<link href="page_styles.css" type="text/css" rel="stylesheet"/>
</head>
  <body class="calibre">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="013-1.3._a_word_about_comments.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="015-1.5._introducing_classes.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table><h3 id="filepos166172" class="calibre29"><span class="bold">1.4. Flow of Control</span></h3><div class="calibre12">&#160;</div>
<p class="calibre14">Statements normally execute sequentially: The first statement in a block is executed first, followed by the second, and so on. Of course, few programs&#8212;including the one to solve our bookstore problem&#8212;can be written using only sequential execution. Instead, programming languages provide various flow-of-control statements that allow for more complicated execution paths.</p><div class="calibre15">&#160;</div>
<h4 id="filepos166704" class="calibre37"><span class="calibre5">1.4.1. The <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">while</span></span></tt></span></span></tt></code> Statement</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">A <a id="filepos166963" href="018-defined_terms.html#filepos270406"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">while</span></span></tt></span></span></tt></code>
<strong class="calibre5">statement</strong></a> repeatedly executes a section of code so long as a given condition is true. We can use a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> to write a program to sum the numbers from 1 through 10 inclusive as follows:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">#include &lt;iostream&gt;<br class="calibre6"/>int main()<br class="calibre6"/>{<br class="calibre6"/>&#160;&#160;&#160;&#160;int sum = 0, val&#160;&#160;= 1;<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">keep executing the</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">while</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">as long as</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">is less than or equal to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">10</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;while (val &lt;= 10)&#160;&#160;{<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sum += val;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">assigns sum +</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to sum</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;++val;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">add</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;}<br class="calibre6"/>&#160;&#160;&#160;&#160;std::cout &lt;&lt; "Sum of 1 to 10 inclusive is "<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; sum &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;return 0;<br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">When we compile and execute this program, it prints</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">Sum of 1 to 10 inclusive is 55</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre25">As before, we start by including the <code class="calibre23"><tt class="calibre23"><span class="calibre24">iostream</span></tt></code> header and defining <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code>. Inside <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code> we define two <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> variables: <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code>, which will hold our summation, and <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code>, which will represent each of the values from 1 through 10. We give <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code> an initial value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">0</span></tt></code> and start <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> off with the value <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code>.</p><div class="calibre22">&#160;</div>
<p class="calibre25"><a id="filepos170706"/>The new part of this program is the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> statement. A <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> has the form</p><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">while (<span><span class="calibre45"><span class="calibre16">condition</span></span></span>)<br class="calibre6"/>&#160;&#160;&#160;&#160;<span><span class="calibre45"><span class="calibre16">statement</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">A <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> executes by (alternately) testing the <em class="calibre16">condition</em> and executing the associated <em class="calibre16">statement</em> until the <em class="calibre16">condition</em> is false. A <strong class="calibre5"><a id="filepos171519" href="018-defined_terms.html#filepos258940">condition</a></strong> is an expression that yields a result that is either true or false. So long as <em class="calibre16">condition</em> is true, <em class="calibre16">statement</em> is executed. After executing <em class="calibre16">statement</em>, <em class="calibre16">condition</em> is tested again. If <em class="calibre16">condition</em> is again true, then <em class="calibre16">statement</em> is again executed. The <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> continues, alternately testing the <em class="calibre16">condition</em> and executing <em class="calibre16">statement</em> until the <em class="calibre16">condition</em> is false.</p><div class="calibre15">&#160;</div>
<p class="calibre25">In this program, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> statement is</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">keep executing the</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">while</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">as long as</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">is less than or equal to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">10</span></span></tt></span><br class="calibre6"/>while (val &lt;= 10)&#160;&#160;{<br class="calibre6"/>&#160;&#160;&#160;&#160;sum += val;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">assigns sum +</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><span class="calibre45"><span class="calibre16">sum</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;++val;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">add</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span><br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">The condition uses the less-than-or-equal operator (the <a id="filepos173855" href="018-defined_terms.html#filepos277200"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">&lt;=</span></span></tt></span></span></tt></code>
<strong class="calibre5">operator</strong></a>) to compare the current value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">10</span></tt></code>. As long as <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is less than or equal to 10, the condition is true. If the condition is true, we execute the body of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code>. In this case, that body is a block with two statements:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">{<br class="calibre6"/>&#160;&#160;&#160;&#160;sum += val;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">assigns</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sum + val</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sum</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;++val;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">add</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span><br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">A block is a sequence of zero or more statements enclosed by curly braces. A block is a statement and may be used wherever a statement is required. The first statement in this block uses the compound assignment operator (the <a id="filepos175818" href="018-defined_terms.html#filepos271889"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">+=</span></span></tt></span></span></tt></code>
<strong class="calibre5">operator</strong></a>). This operator adds its right-hand operand to its left-hand operand and stores the result in the left-hand operand. It has essentially the same effect as writing an addition and an <strong class="calibre5"><a id="filepos176210" href="018-defined_terms.html#filepos254605">assignment</a></strong>:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">sum = sum + val; // <span><span class="calibre45"><span class="calibre16">assign</span></span></span> sum + val <span><span class="calibre45"><span class="calibre16">to</span></span></span> sum</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Thus, the first statement in the block adds the value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> to the current value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code> and stores the result back into <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">The next statement</p><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">++val;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">add</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">uses the prefix increment operator (the <a id="filepos177745" href="018-defined_terms.html#filepos271323"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">++</span></span></tt></span></span></tt></code>
<strong class="calibre5">operator</strong></a>). The increment operator adds <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code> to its operand. Writing <code class="calibre23"><tt class="calibre23"><span class="calibre24">++val</span></tt></code> is the same as writing <code class="calibre23"><tt class="calibre23"><span class="calibre24">val = val + 1</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">After executing the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> body, the loop evaluates the condition again. If the (now incremented) value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is still less than or equal to 10, then the body of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> is executed again. The loop continues, testing the condition and executing the body, until <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is no longer less than or equal to 10.</p><div class="calibre22">&#160;</div>
<p class="calibre25">Once <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is greater than 10, the program falls out of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> loop and continues execution with the statement following the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code>. In this case, that statement prints our output, followed by the <code class="calibre23"><tt class="calibre23"><span class="calibre24">return</span></tt></code>, which completes our <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code> program.</p><div class="calibre22">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><a id="filepos179531"/><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 1.4.1</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.9:</strong> Write a program that uses a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> to sum the numbers from 50 to 100.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.10:</strong> In addition to the <code class="calibre23"><tt class="calibre23"><span class="calibre24">++</span></tt></code> operator that adds <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code> to its operand, there is a decrement operator (<code class="calibre23"><tt class="calibre23"><span class="calibre24">--</span></tt></code>) that subtracts <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code>. Use the decrement operator to write a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> that prints the numbers from ten down to zero.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.11:</strong> Write a program that prompts the user for two integers. Print each number in the range specified by those two integers.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos180866" class="calibre37"><span class="calibre5">1.4.2. The <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">for</span></span></tt></span></span></tt></code> Statement</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">In our <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> loop we used the variable <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> to control how many times we executed the loop. We tested the value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> in the condition and incremented <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> in the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> body.</p><div class="calibre15">&#160;</div>
<p class="calibre25">This pattern&#8212;using a variable in a condition and incrementing that variable in the body&#8212;happens so often that the language defines a second statement, the <a id="filepos181841" href="018-defined_terms.html#filepos261422"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">for</span></span></tt></span></span></tt></code>
<strong class="calibre5">statement</strong></a>, that abbreviates code that follows this pattern. We can rewrite this program using a <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> loop to sum the numbers from 1 through 10 as follows:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">#include &lt;iostream&gt;<br class="calibre6"/>int main()<br class="calibre6"/>{<br class="calibre6"/>&#160;&#160;&#160;&#160;int sum = 0;<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">sum values from</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">through</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">10</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">inclusive</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;for (int val = 1; val &lt;= 10; ++val)<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sum +=&#160;val;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">equivalent to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sum = sum + val</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;std::cout &lt;&lt; "Sum of 1 to 10 inclusive is "<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; sum &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;return 0;<br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">As before, we define <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code> and initialize it to zero. In this version, we define <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> as part of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> statement itself:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">for (int val = 1; val &lt;= 10; ++val)<br class="calibre6"/>&#160;&#160;&#160;&#160;sum += val;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Each <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> statement has two parts: a header and a body. The header controls how often the body is executed. The header itself consists of three parts: an <em class="calibre16">init-statement</em>, a <em class="calibre16">condition</em>, and an <em class="calibre16">expression</em>. In this case, the <em class="calibre16">init-statement</em></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">int val = 1;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">defines an <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> object named <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> and gives it an initial value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code>. The variable <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> exists only inside the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code>; it is not possible to use <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> after this loop terminates. The <em class="calibre16">init-statement</em> is executed only once, on entry to the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code>. The <em class="calibre16">condition</em></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">val &lt;= 10</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14"><a/>compares the current value in <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> to <code class="calibre23"><tt class="calibre23"><span class="calibre24">10</span></tt></code>. The <em class="calibre16">condition</em> is tested each time through the loop. As long as <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is less than or equal to <code class="calibre23"><tt class="calibre23"><span class="calibre24">10</span></tt></code>, we execute the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> body. The <em class="calibre16">expression</em> is executed after the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> body. Here, the <em class="calibre16">expression</em></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">++val</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">uses the prefix increment operator, which adds <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code> to the value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code>. After executing the <em class="calibre16">expression</em>, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> retests the <em class="calibre16">condition</em>. If the new value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is still less than or equal to <code class="calibre23"><tt class="calibre23"><span class="calibre24">10</span></tt></code>, then the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> loop body is executed again. After executing the body, <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is incremented again. The loop continues until the <em class="calibre16">condition</em> fails.</p><div class="calibre15">&#160;</div>
<p class="calibre25">In this loop, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> body performs the summation</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">sum += val; // <span><span class="calibre45"><span class="calibre16">equivalent to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sum = sum + val</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">To recap, the overall execution flow of this <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> is:</p><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre47"><strong class="calibre5">1.</strong> Create <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> and initialize it to <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code>.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre47"><strong class="calibre5">2.</strong> Test whether <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is less than or equal to <code class="calibre23"><tt class="calibre23"><span class="calibre24">10</span></tt></code>. If the test succeeds, execute the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> body. If the test fails, exit the loop and continue execution with the first statement following the <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> body.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre47"><strong class="calibre5">3.</strong> Increment <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code>.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre26"><p class="calibre47"><strong class="calibre5">4.</strong> Repeat the test in step 2, continuing with the remaining steps as long as the condition is true.</p></blockquote><div class="calibre15">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 1.4.2</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.12:</strong> What does the following <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> loop do? What is the final value of <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code>?</p></blockquote><div class="calibre10">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">int sum = 0;<br class="calibre6"/>for (int i = -100; i &lt;= 100; ++i)<br class="calibre6"/>&#160;&#160;&#160;&#160;sum += i;</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.13:</strong> Rewrite the exercises from &#167; <a href="014-1.4._flow_of_control.html#filepos166704">1.4.1</a> (p. <a href="014-1.4._flow_of_control.html#filepos166704">13</a>) using <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> loops.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.14:</strong> Compare and contrast the loops that used a <code class="calibre23"><tt class="calibre23"><span class="calibre24">for</span></tt></code> with those using a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code>. Are there advantages or disadvantages to using either form?</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.15:</strong> Write programs that contain the common errors discussed in the box on page <a href="014-1.4._flow_of_control.html#filepos197678">16</a>. Familiarize yourself with the messages the compiler generates.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos191453" class="calibre37"><span class="calibre5">1.4.3. Reading an Unknown Number of Inputs</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">In the preceding sections, we wrote programs that summed the numbers from 1 through 10. A logical extension of this program would be to ask the user to input a set of numbers to sum. In this case, we won&#8217;t know how many numbers to add. Instead, we&#8217;ll keep reading numbers until there are no more numbers to read:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos191990"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">#include &lt;iostream&gt;<br class="calibre6"/>int main()<br class="calibre6"/>{<br class="calibre6"/>&#160;&#160;&#160;&#160;int sum = 0, value = 0;<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">read until end-of-file, calculating a running total of all values read</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;while (std::cin &gt;&gt; value)<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;sum += value; // <span><span class="calibre45"><span class="calibre16">equivalent to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">sum = sum + value</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;std::cout &lt;&lt; "Sum is: " &lt;&lt; sum &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;return 0;<br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">If we give this program the input</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">3 4 5 6</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">then our output will be</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">Sum is: 18</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre25">The first line inside <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code> defines two <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> variables, named <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">value</span></tt></code>, which we initialize to <code class="calibre23"><tt class="calibre23"><span class="calibre24">0</span></tt></code>. We&#8217;ll use <code class="calibre23"><tt class="calibre23"><span class="calibre24">value</span></tt></code> to hold each number as we read it from the input. We read the data inside the condition of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code>:</p><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">while (std::cin &gt;&gt; value)</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">Evaluating the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> condition executes the expression</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">std::cin &gt;&gt; value</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">That expression reads the next number from the standard input and stores that number in <code class="calibre23"><tt class="calibre23"><span class="calibre24">value</span></tt></code>. The input operator (&#167; <a href="012-1.2._a_first_look_at_inputoutput.html#filepos136281">1.2</a>, p. <a href="012-1.2._a_first_look_at_inputoutput.html#filepos136281">8</a>) returns its left operand, which in this case is <code class="calibre23"><tt class="calibre23"><span class="calibre24">std::cin</span></tt></code>. This condition, therefore, tests <code class="calibre23"><tt class="calibre23"><span class="calibre24">std::cin</span></tt></code>.</p><div class="calibre15">&#160;</div>
<p class="calibre25">When we use an <code class="calibre23"><tt class="calibre23"><span class="calibre24">istream</span></tt></code> as a condition, the effect is to test the state of the stream. If the stream is valid&#8212;that is, if the stream hasn&#8217;t encountered an error&#8212;then the test succeeds. An <code class="calibre23"><tt class="calibre23"><span class="calibre24">istream</span></tt></code> becomes invalid when we hit <em class="calibre16"><strong class="calibre5"><a id="filepos195735" href="018-defined_terms.html#filepos260404">end-of-file</a></strong></em> or encounter an invalid input, such as reading a value that is not an integer. An <code class="calibre23"><tt class="calibre23"><span class="calibre24">istream</span></tt></code> that is in an invalid state will cause the condition to yield false.</p><div class="calibre22">&#160;</div>
<p class="calibre25">Thus, our <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> executes until we encounter end-of-file (or an input error). The <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> body uses the compound assignment operator to add the current value to the evolving <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code>. Once the condition fails, the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> ends. We fall through and execute the next statement, which prints the <code class="calibre23"><tt class="calibre23"><span class="calibre24">sum</span></tt></code> followed by <code class="calibre23"><tt class="calibre23"><span class="calibre24">endl</span></tt></code>.</p><div class="calibre22">&#160;</div>
<div class="calibre35"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre14"><span class="calibre5"><a/>Entering an End-of-File from the Keyboard</span></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">When we enter input to a program from the keyboard, different operating systems use different conventions to allow us to indicate end-of-file. On Windows systems we enter an end-of-file by typing a control-z&#8212;hold down the Ctrl key and press <code class="calibre23"><tt class="calibre23"><span class="calibre24">z</span></tt></code>&#8212;followed by hitting either the Enter or Return key. On UNIX systems, including on Mac OS X machines, end-of-file is usually control-d.</p></blockquote><div class="calibre15">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<div class="calibre35"><blockquote class="calibre26"><a id="filepos197678"/><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre14"><span class="calibre5"><a/>Compilation Revisited</span></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">Part of the compiler&#8217;s job is to look for errors in the program text. A compiler cannot detect whether a program does what its author intends, but it can detect errors in the <em class="calibre16">form</em> of the program. The following are the most common kinds of errors a compiler will detect.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><em class="calibre16">Syntax errors:</em> The programmer has made a grammatical error in the C++ language. The following program illustrates common syntax errors; each comment describes the error on the following line:</p></blockquote><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">// <span><span class="calibre45"><span class="calibre16">error: missing ) in parameter list for</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">main</span></span></tt></span><br class="calibre6"/>int main ( {<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error: used colon, not a semicolon, after</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">endl</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;std::cout &lt;&lt; "Read each file." &lt;&lt; std::endl:<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error: missing quotes around string literal</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;std::cout &lt;&lt; Update master. &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error: second output operator is missing</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;std::cout &lt;&lt; "Write new master." std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error: missing ; on return statement</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;return 0<br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><em class="calibre16">Type errors:</em> Each item of data in C++ has an associated type. The value 10, for example, has a type of <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> (or, more colloquially, &#8220;is an <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code>&#8221;). The word <code class="calibre23"><tt class="calibre23"><span class="calibre24">"hello"</span></tt></code>, including the double quotation marks, is a string literal. One example of a type error is passing a string literal to a function that expects an <code class="calibre23"><tt class="calibre23"><span class="calibre24">int</span></tt></code> argument.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14"><em class="calibre16">Declaration errors:</em> Every name used in a C++ program must be declared before it is used. Failure to declare a name usually results in an error message. The two most common declaration errors are forgetting to use <code class="calibre23"><tt class="calibre23"><span class="calibre24">std::</span></tt></code> for a name from the library and misspelling the name of an identifier:</p></blockquote><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">#include &lt;iostream&gt;<br class="calibre6"/>int main()<br class="calibre6"/>{<br class="calibre6"/>&#160;&#160;&#160;&#160;int v1 = 0, v2 = 0;<br class="calibre6"/>&#160;&#160;&#160;&#160;std::cin &gt;&gt; v &gt;&gt; v2; // <span><span class="calibre45"><span class="calibre16">error: uses</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">"v"</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">not</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">"v1"</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">error:</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">cout</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">not defined; should be</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">std::cout</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;cout &lt;&lt; v1 + v2 &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;return 0;<br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre36"><p class="calibre25">Error messages usually contain a line number and a brief description of what the compiler believes we have done wrong. It is a good practice to correct errors in the sequence they are reported. Often a single error can have a cascading effect and cause a compiler to report more errors than actually are present. It is also a good idea to recompile the code after each fix&#8212;or after making at most a small number of obvious fixes. This cycle is known as <em class="calibre16"><a id="filepos202754" href="018-defined_terms.html#filepos260170">edit-compile-debug</a></em>.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><a id="filepos202939"/><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 1.4.3</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.16:</strong> Write your own version of a program that prints the sum of a set of integers read from <code class="calibre23"><tt class="calibre23"><span class="calibre24">cin</span></tt></code>.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<h4 id="filepos203410" class="calibre37"><span class="calibre5">1.4.4. The <code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">if</span></span></tt></span></span></tt></code> Statement</span></h4><div class="calibre38">&#160;</div>
<p class="calibre14">Like most languages, C++ provides an <a id="filepos203701" href="018-defined_terms.html#filepos262754"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">if</span></span></tt></span></span></tt></code>
<strong class="calibre5">statement</strong></a> that supports conditional execution. We can use an <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code> to write a program to count how many consecutive times each distinct value appears in the input:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">#include &lt;iostream&gt;<br class="calibre6"/>int main()<br class="calibre6"/>{<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">currVal</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">is the number we're counting; we'll read new values into</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">val</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;int currVal = 0, val = 0;<br class="calibre6"/>&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">read first number and ensure that we have data to process</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;if (std::cin &gt;&gt; currVal) {<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;int cnt = 1;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">store the count for the current value we're processing</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;while (std::cin &gt;&gt; val) { // <span><span class="calibre45"><span class="calibre16">read the remaining numbers</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if (val == currVal)&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">if the values are the same</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;++cnt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">add</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">cnt</span></span></tt></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else { // <span><span class="calibre45"><span class="calibre16">otherwise, print the count for the previous value</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;std::cout &lt;&lt; currVal &lt;&lt; " occurs "<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; cnt &lt;&lt; " times" &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;currVal = val;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">remember the new value</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cnt = 1;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">reset the counter</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}&#160;&#160;// <span><tt class="calibre23"><span class="calibre46"><span class="calibre16">while</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">loop ends here</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">remember to print the count for the last value in the file</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;std::cout &lt;&lt; currVal &lt;&lt;&#160;&#160;" occurs "<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; cnt &lt;&lt; " times" &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;} // <span><span class="calibre45"><span class="calibre16">outermost</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">if</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">statement ends here</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;return 0;<br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">If we give this program the following input:</p><div class="calibre15">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">42 42 42 42 42 55 55 62 100 100 100</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">then the output should be</p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">42 occurs 5 times</span></span></tt></span><br class="calibre6"/><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">55 occurs 2 times</span></span></tt></span><br class="calibre6"/><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">62 occurs 1 times</span></span></tt></span><br class="calibre6"/><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">100 occurs 3 times</span></span></tt></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre25">Much of the code in this program should be familiar from our earlier programs. We start by defining <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">currVal</span></tt></code>: <code class="calibre23"><tt class="calibre23"><span class="calibre24">currVal</span></tt></code> will keep track of which number we are counting; <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> will hold each number as we read it from the input. What&#8217;s new are the two <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code> statements. The first <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code></p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"><a id="filepos210009"/></span></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">if (std::cin &gt;&gt; currVal) {<br class="calibre6"/>&#160;&#160;&#160;&#160;// ...<br class="calibre6"/>} // <span><span class="calibre45"><span class="calibre16">outermost</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">if</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">statement ends here</span></span></span></span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">ensures that the input is not empty. Like a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code>, an <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code> evaluates a condition. The condition in the first <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code> reads a value into <code class="calibre23"><tt class="calibre23"><span class="calibre24">currVal</span></tt></code>. If the read succeeds, then the condition is true and we execute the block that starts with the open curly following the condition. That block ends with the close curly just before the <code class="calibre23"><tt class="calibre23"><span class="calibre24">return</span></tt></code> statement.</p><div class="calibre15">&#160;</div>
<p class="calibre25">Once we know there are numbers to count, we define <code class="calibre23"><tt class="calibre23"><span class="calibre24">cnt</span></tt></code>, which will count how often each distinct number occurs. We use a <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> loop similar to the one in the previous section to (repeatedly) read numbers from the standard input.</p><div class="calibre22">&#160;</div>
<p class="calibre25">The body of the <code class="calibre23"><tt class="calibre23"><span class="calibre24">while</span></tt></code> is a block that contains the second <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code> statement:</p><div class="calibre22">&#160;</div>
<p class="calibre40"><span class="calibre41"><span class="calibre5"/></span></p><div class="calibre38">&#160;</div>
<blockquote class="calibre13"><p class="calibre31"><tt class="calibre23"><span class="calibre24">if (val == currVal)&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">if the values are the same</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;++cnt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">add</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">1</span></span></tt></span>
<span><span class="calibre45"><span class="calibre16">to</span></span></span>
<span><tt class="calibre23"><span class="calibre46"><span class="calibre16">cnt</span></span></tt></span><br class="calibre6"/>else { // <span><span class="calibre45"><span class="calibre16">otherwise, print the count for the previous value</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;std::cout &lt;&lt; currVal &lt;&lt; " occurs "<br class="calibre6"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;&lt; cnt &lt;&lt; " times" &lt;&lt; std::endl;<br class="calibre6"/>&#160;&#160;&#160;&#160;currVal = val;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">remember the new value</span></span></span><br class="calibre6"/>&#160;&#160;&#160;&#160;cnt = 1;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// <span><span class="calibre45"><span class="calibre16">reset the counter</span></span></span><br class="calibre6"/>}</span></tt></p></blockquote><div class="calibre22">&#160;</div>
<p class="calibre14">The condition in this <code class="calibre23"><tt class="calibre23"><span class="calibre24">if</span></tt></code> uses the equality operator (the <a id="filepos213605" href="018-defined_terms.html#filepos276437"><code class="calibre23"><tt class="calibre23"><span class="calibre24"><span><tt class="calibre23"><span class="calibre32"><span class="calibre5">==</span></span></tt></span></span></tt></code>
<strong class="calibre5">operator</strong></a>) to test whether <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is equal to <code class="calibre23"><tt class="calibre23"><span class="calibre24">currVal</span></tt></code>. If so, we execute the statement that immediately follows the condition. That statement increments <code class="calibre23"><tt class="calibre23"><span class="calibre24">cnt</span></tt></code>, indicating that we have seen <code class="calibre23"><tt class="calibre23"><span class="calibre24">currVal</span></tt></code> once more.</p><div class="calibre15">&#160;</div>
<p class="calibre25">If the condition is false&#8212;that is, if <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code> is not equal to <code class="calibre23"><tt class="calibre23"><span class="calibre24">currVal</span></tt></code>&#8212;then we execute the statement following the <code class="calibre23"><tt class="calibre23"><span class="calibre24">else</span></tt></code>. This statement is a block consisting of an output statement and two assignments. The output statement prints the count for the value we just finished processing. The assignments reset <code class="calibre23"><tt class="calibre23"><span class="calibre24">cnt</span></tt></code> to <code class="calibre23"><tt class="calibre23"><span class="calibre24">1</span></tt></code> and <code class="calibre23"><tt class="calibre23"><span class="calibre24">currVal</span></tt></code> to <code class="calibre23"><tt class="calibre23"><span class="calibre24">val</span></tt></code>, which is the number we just read.</p><div class="calibre22">&#160;</div>
<div class="calibre33"><blockquote class="calibre26"><hr class="calibre34"/><p class="calibre14"><span class="calibre5"><a/><img alt="Image" src="images/00013.jpg" class="calibre9"/> Warning</span></p><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">C++ uses <code class="calibre23"><tt class="calibre23"><span class="calibre24">=</span></tt></code> for assignment and <code class="calibre23"><tt class="calibre23"><span class="calibre24">==</span></tt></code> for equality. Both operators can appear inside a condition. It is a common mistake to write <code class="calibre23"><tt class="calibre23"><span class="calibre24">=</span></tt></code> when you mean <code class="calibre23"><tt class="calibre23"><span class="calibre24">==</span></tt></code> inside a condition.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<div class="calibre42"><blockquote class="calibre26"><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre43"><span class="calibre5">Exercises Section 1.4.4</span></p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.17:</strong> What happens in the program presented in this section if the input values are all equal? What if there are no duplicated values?</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.18:</strong> Compile and run the program from this section giving it only equal values as input. Run it again giving it values in which no number is repeated.</p></blockquote><div class="calibre10">&#160;</div>
<blockquote class="calibre13"><p class="calibre44"><a/><strong class="calibre5">Exercise 1.19:</strong> Revise the program you wrote for the exercises in &#167; <a href="014-1.4._flow_of_control.html#filepos166704">1.4.1</a> (p. <a href="014-1.4._flow_of_control.html#filepos166704">13</a>) that printed a range of numbers so that it handles input in which the first number is smaller than the second.</p></blockquote><div class="calibre10">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<div class="calibre35"><blockquote class="calibre26"><a id="filepos217066"/><hr class="calibre34"/><blockquote class="calibre13"><p class="calibre14"><span class="calibre5"><a/>Key Concept: Indentation and Formatting of C++ Programs</span></p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre13"><p class="calibre14">C++ programs are largely free-format, meaning that where we put curly braces, indentation, comments, and newlines usually has no effect on what our programs mean. For example, the curly brace that denotes the beginning of the body of <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code> could be on the same line as <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code>; positioned as we have done, at the beginning of the next line; or placed anywhere else we&#8217;d like. The only requirement is that the open curly must be the first nonblank, noncomment character following <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code>&#8217;s parameter list.</p></blockquote><div class="calibre15">&#160;</div>
<blockquote class="calibre36"><p class="calibre25">Although we are largely free to format programs as we wish, the choices we make affect the readability of our programs. We could, for example, have written <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code> on a single long line. Such a definition, although legal, would be hard to read.</p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre36"><p class="calibre25">Endless debates occur as to the right way to format C or C++ programs. Our belief is that there is no single correct style but that there is value in consistency. Most programmers indent subsidiary parts of their programs, as we&#8217;ve done with the statements inside <code class="calibre23"><tt class="calibre23"><span class="calibre24">main</span></tt></code> and the bodies of our loops. We tend to put the curly braces that delimit functions on their own lines. We also indent compound IO expressions so that the operators line up. Other indentation conventions will become clear as our programs become more sophisticated.</p></blockquote><div class="calibre22">&#160;</div>
<blockquote class="calibre36"><p class="calibre25">The important thing to keep in mind is that other ways to format programs are possible. When you choose a formatting style, think about how it affects readability and comprehension. Once you&#8217;ve chosen a style, use it consistently.</p></blockquote><div class="calibre22">&#160;</div>
<hr class="calibre34"/></blockquote></div><div class="calibre3">&#160;</div>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;"><a href="001-contents.html"><img src="images/teamlib.gif" width="62" height="15" border="0" align="absmiddle"  alt="Team LiB"></a></div></td><td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href="013-1.3._a_word_about_comments.html"><img src="images/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
<a href="015-1.5._introducing_classes.html"><img src="images/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a></div></td></tr></table></body></html>
